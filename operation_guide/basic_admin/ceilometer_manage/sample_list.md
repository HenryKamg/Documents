# 查看计量项采样

sample，计量项采样。即某个时刻某个resource的某个meter值。

## 用法 ##

`ceilometer sample-list [-q <QUERY>] [-m <NAME>] [-l <NUMBER>]`

必选参数：

`-m <NAME>, --meter <NAME>`     要查询的meter的name

可选参数：

`-q <QUERY>, --query <QUERY>`

查询条件，具体可以参考 [基本使用](./basic_usage.md)

可选的条件属性有：

| attr | value eg |
| --- | --- |
| project_id | 5f3c266772b94980ac2629b1c9d773c6 |
| resource_id | 3708a98e-e856-4836-bc06-481d629942a4 |
| timestamp | 2015-09-09T04:07:21 |

`-l <NUMBER>, --limit <NUMBER>`     返回的结果数量（最大）

## 示例 ##

* 查看某个计量项的sample

查看cpu的sample

```
# ceilometer sample-list -m cpu
+--------------------------------------+------+------------+-------------+------+---------------------+
| Resource ID                          | Name | Type       | Volume      | Unit | Timestamp           |
+--------------------------------------+------+------------+-------------+------+---------------------+
| 6e4c4a95-329e-4859-a622-9d8865364a0a | cpu  | cumulative | 2.81629e+12 | ns   | 2015-09-09T07:57:21 |
| 6e4c4a95-329e-4859-a622-9d8865364a0a | cpu  | cumulative | 2.8111e+12  | ns   | 2015-09-09T07:47:22 |
| 3708a98e-e856-4836-bc06-481d629942a4 | cpu  | cumulative | 2.80581e+12 | ns   | 2015-09-09T07:37:21 |
| 6e4c4a95-329e-4859-a622-9d8865364a0a | cpu  | cumulative | 2.80043e+12 | ns   | 2015-09-09T07:27:22 |
| 3708a98e-e856-4836-bc06-481d629942a4 | cpu  | cumulative | 2.79468e+12 | ns   | 2015-09-09T07:17:21 |
| 6e4c4a95-329e-4859-a622-9d8865364a0a | cpu  | cumulative | 2.78909e+12 | ns   | 2015-09-09T07:07:22 |
+--------------------------------------+------+------------+-------------+------+---------------------+
```

> ###### 注意
> 由于篇幅问题，上面结果只列出部分。

如上，列出了平台中每个资源在规定时间点的cpu计量值，包括值的类型、单位和值。


* 带查询条件的查询

查看某个vm在某个时间断的cpu，并返回1条结果。

```
# ceilometer sample-list -m cpu -q "resource_id=6e4c4a95-329e-4859-a622-9d8865364a0a;timestamp<2015-09-08T07:57:21;timestamp>2015-09-06T07:57:21" -l 1
+--------------------------------------+------+------------+-------------+------+---------------------+
| Resource ID                          | Name | Type       | Volume      | Unit | Timestamp           |
+--------------------------------------+------+------------+-------------+------+---------------------+
| 6e4c4a95-329e-4859-a622-9d8865364a0a | cpu  | cumulative | 2.81629e+12 | ns   | 2015-09-09T07:57:21 |
+--------------------------------------+------+------------+-------------+------+---------------------+
```
