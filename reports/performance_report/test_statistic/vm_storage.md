# 虚拟存储的使用性能

## 测试配置

测试使用 CentOS 7 云主机，配置了 4 个 CPU，8G 内存。

分别创建 100G 的 Cepht 卷和 Eqlx 卷，附加到云主机作为虚拟磁盘，对虚拟磁盘进行测试。

云主机的网络配置请参考[虚拟网络的工作性能](vm_network.md)中的数据。

## 测试说明

使用 fio 工具测试存储的使用性能。

其中，所测试的模式包括：顺序写、顺序读、随机写、随机读。

在各种模式下，还分别测试了不同队列深度和 IO 大小对带宽和 IOPS 的影响。

> ###### 使用参数说明：
> * 测试模式(-rw): 顺序写(write)、顺序读(read)、随机写(randwrite)、随机读(randread)；
> * 队列深度(-iodepth): 1, 2, 4, 8, 16, 32, 64, 128, 256；
> * IO 大小(-bs): 4K, 8k, 16k, 64k, 512k, 1M, 2M, 4M, 8M。

使用上述参数分别对 Ceph 和 Eqlx 类型的存储进行测试。

总测试数目为：(4 * 9 * 9) * 2 = 324 * 2 = 648

即，分别对 Ceph 和 Eqlx 进行了测试，共获得数据 648 组。

