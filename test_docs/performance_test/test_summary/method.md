# 测试方法

性能测试是通过自动化测试工具模拟多种正常、高负载的场景，以对系统的各项指标进行测试的方法，也可通过性能测试获得系统的性能指标。

对 EayunStack 性能的测试包括 **EayunStack 环境性能**的测试和**云主机性能**的测试。

## EayunStack 环境性能

### 硬件性能

硬件性能主要包括网络和硬盘的性能。

### 组件性能

EayunStack 是一个各个服务联合运作的庞大系统。各个组件相互协调运作，因此，要保证在较大压力下，各个组件能够正常运作，需要对各个组件进行性能测试。

需要测试的组件包括：Nova、Cinder、Glance、Neutron 和 Keystone。

* **测试方法**：使用 Tempest 进行测试。Rally 是一套基于 Tempest 框架的测试工具，可以直接执行 Tempest 的测试并输出测试结果。

## 云主机性能

云主机运行在计算节点上。

云主机的网络由 Neutron 节点（运行在 Controller 节点上）提供，云主机的磁盘可以选择使用 Ceph 类型或 Eqlx 类型的存储。

因此，测试存储时，将针对不同类型的存储类型进行测试。

### 存储性能

存储性能的测试主要包括对磁盘的读、写分别进行测试。使用的工具为 fio。

* **测试方法**：使用 Rally 进行测试。新建云主机后，在云主机中执行测试脚本。执行结果将返回到 Rally 服务器。

### 网络性能

网络性能的测试主要包括 TCP 和 UDP 的测试，包括吞吐量、带宽、丢包率等。使用的工具为 iperf。

* **测试方法**：使用 Rally 进行测试。新建云主机后，在云主机中执行测试脚本。执行结果将返回到 Rally 服务器。
